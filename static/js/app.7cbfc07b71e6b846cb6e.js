webpackJsonp([7],[,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TOAST_MESSAGE="TOAST_MESSAGE",e.OPEN_DIALOG="OPEN_DIALOG",e.CLOSE_DIALOG="CLOSE_DIALOG",e.AUTH_LOGIN_SUCCESS="AUTH_LOGIN_SUCCESS",e.AUTH_LOGIN_FAIL="AUTH_LOGIN_FAIL",e.AUTH_LOGOUT="AUTH_LOGOUT",e.GET_ACCOUNT_SUCCESS="GET_ACCOUNT_SUCCESS",e.GET_ACCOUNT_FAIL="GET_ACCOUNT_FAIL"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e,n){"use strict";var o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o);a.default.component("Modal",n(118)),a.default.component("LoginModal",n(119)),a.default.component("Uploader",function(t){return n.e(5).then(function(){var e=[n(131)];t.apply(null,e)}.bind(this)).catch(n.oe)})},function(t,e,n){"use strict";var o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(117);a.default.directive("clickaway",r.directive),a.default.directive("dropdown",n(56).default)},function(t,e,n){"use strict"},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),r=o(a),u=n(124),c=o(u),i=n(44),s=o(i);n(43);var l=n(58),d=o(l);r.default.use(c.default);var f=new c.default({linkActiveClass:"active",mode:"history",base:"/vue-boilerplate/",routes:[{path:"/app",alias:"/",component:function(t){return n.e(0).then(function(){var e=[n(130)];t.apply(null,e)}.bind(this)).catch(n.oe)},children:d.default},{path:"*",redirect:"/"}]});f.beforeEach(function(t,e,n){s.default.start(),n()}),f.afterEach(function(){s.default.done()}),f.beforeEach(function(t,e,n){return t.meta.requiresAuth?localStorage.token?void r.default.http.get("/users/me").then(function(t){n(function(e){e.user=t.body})}).catch(function(e){n({path:"/login",query:{redirect:t.fullPath}})}):n({path:"/login",query:{redirect:t.fullPath}}):n()}),r.default.router=f,e.default=f},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),u=a(r),c=n(26),i=a(c),s=n(126),l=(a(s),n(59)),d=o(l),f=n(60),_=o(f),p=n(61),v=a(p),m=n(62),h=a(m),O=n(63),g=a(O),A=n(64),S=a(A);u.default.use(i.default);var b=new i.default.Store({actions:d,getters:_,modules:{account:v.default,auth:h.default,message:g.default,modal:S.default},strict:!1,plugins:[]});e.default=b},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),r=o(a),u=n(116),c=o(u);r.default.use(c.default)},,,function(t,e,n){n(112);var o=n(17)(n(67),n(122),null,null);t.exports=o.exports},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=e.Account=e.Message=void 0;var a=n(2),r=o(a),u=n(123),c=o(u),i=n(44),s=o(i);n(43),r.default.use(c.default);r.default.http.options.crossOrigin=!0,r.default.http.options.xhr={withCredentials:!0},r.default.http.interceptor.before=function(t,e){s.default.start(),e()},r.default.http.headers.common.Authorization=localStorage.getItem("token")?"Bearer "+localStorage.getItem("token"):"",r.default.http.interceptors.push(function(t,e){e(function(t){return s.default.done(),401===t.status&&localStorage.removeItem("token"),t})});e.Message=r.default.resource("/api/messages{/id}"),e.Account=r.default.resource("/api/users{/id}"),e.Auth=r.default.resource("/auth/local")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(65);e.default={bind:function(t,e,n){t.__dropdown_handler=function(e){e.stopPropagation(),(0,o.toggle)(t,"open")},t.__document_dropdown_handler=function(e){(0,o.remove)(t,"open")},t.addEventListener("click",t.__dropdown_handler),document.addEventListener("click",t.__document_dropdown_handler)},unbind:function(t,e,n){t.removeEventListener("click",t.__dropdown_handler),document.removeEventListener("click",t.__document_dropdown_handler)}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=n(2),r=o(a),u=n(49),c=o(u),i=n(50),s=o(i),l=n(52),d=o(l);n(47),n(51),n(48),n(46),d.default.sync(s.default,c.default),new r.default({el:"router-view",router:c.default,store:s.default})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[{path:"",component:function(t){return n.e(1).then(function(){var e=[n(135)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/profile",meta:{requiresAuth:!0},component:function(t){return n.e(2).then(function(){var e=[n(134)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/login",component:function(t){return n.e(4).then(function(){var e=[n(132)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/logout",component:function(t){return n.e(3).then(function(){var e=[n(133)];t.apply(null,e)}.bind(this)).catch(n.oe)}}];e.default=o},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t,e){var n=t.commit;t.state;n(_.TOAST_MESSAGE,e);var o=setTimeout(function(){n(_.TOAST_MESSAGE,""),clearTimeout(o)},3e3)}function r(t,e){var n=t.commit;t.state;return d.Account.get(e).then(function(t){return n(_.GET_ACCOUNT_SUCCESS,t.body),s.default.resolve(t)}).catch(function(t){return n(_.GET_ACCOUNT_FAIL,t.body),s.default.reject(t)})}function u(t,e){var n=t.commit;return d.Auth.save(e).then(function(t){return n(_.AUTH_LOGIN_SUCCESS,t.body),t}).catch(function(t){return n(_.AUTH_LOGIN_FAIL,t.body),s.default.reject(t)})}function c(t,e){return(0,t.commit)(_.AUTH_LOGOUT,{}),s.default.resolve()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(71),s=function(t){return t&&t.__esModule?t:{default:t}}(i);e.toast=a,e.getAccount=r,e.login=u,e.logout=c;var l=n(55),d=o(l),f=n(8),_=o(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.message=function(t){return t.message.message},e.modalView=function(t){return t.modal.view},e.me=function(t){return t.account.account},e.loggedIn=function(t){return!!t.auth.token}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(12),r=function(t){return t&&t.__esModule?t:{default:t}}(a),u=n(8),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),i={account:{name:""}},s=(o={},(0,r.default)(o,c.GET_ACCOUNT_SUCCESS,function(t,e){t.account=e}),(0,r.default)(o,c.GET_ACCOUNT_FAIL,function(t,e){t.account={}}),(0,r.default)(o,c.AUTH_LOGOUT,function(t,e){t.account={}}),o);e.default={state:i,mutations:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(12),r=function(t){return t&&t.__esModule?t:{default:t}}(a),u=n(8),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),i={token:localStorage.getItem("token")||""},s=(o={},(0,r.default)(o,c.AUTH_LOGIN_SUCCESS,function(t,e){t.token=e.token,localStorage.setItem("token",e.token)}),(0,r.default)(o,c.AUTH_LOGIN_FAIL,function(t,e){t.token="",localStorage.setItem("token","")}),(0,r.default)(o,c.AUTH_LOGOUT,function(t,e){t.token="",localStorage.setItem("token","")}),o);e.default={state:i,mutations:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(8),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r),c={message:""},i=(0,a.default)({},u.TOAST_MESSAGE,function(t,e){t.message=e});e.default={state:c,mutations:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(12),r=function(t){return t&&t.__esModule?t:{default:t}}(a),u=n(8),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),i={view:"",data:{}},s=(o={},(0,r.default)(o,c.OPEN_DIALOG,function(t,e,n){i.view=e,i.data=n}),(0,r.default)(o,c.CLOSE_DIALOG,function(t,e,n){i.view="",i.data={}}),o);e.default={state:i,mutations:s}},function(t,e,n){"use strict";function o(t){if(t.classList)return t.classList;var e=t.className.replace(/^\s+|\s+$/g,""),n=e.split(s);return""===n[0]&&n.shift(),n}function a(t,e){if(t.classList)return void t.classList.add(e);var n=o(t);~n.indexOf(e)||n.push(e),t.className=n.join(" ")}function r(t,e){return t.classList?t.classList.contains(e):!!~o(t).indexOf(e)}function u(t,e){if("[object RegExp]"===l.call(e))return c(t,e);if(t.classList)return void t.classList.remove(e);var n=o(t),a=n.indexOf(e);~a&&n.splice(a,1),t.className=n.join(" ")}function c(t,e,n){for(var a=Array.prototype.slice.call(o(t)),r=0;r<a.length;r++)e.test(a[r])&&u(t,a[r])}function i(t,e){if(t.classList)return t.classList.toggle(e);r(t,e)?u(t,e):a(t,e)}var s=/\s+/,l=Object.prototype.toString;t.exports=o,t.exports.add=a,t.exports.contains=r,t.exports.has=r,t.exports.toggle=i,t.exports.remove=u,t.exports.removeMatching=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:String,default:"md"},modalView:"",data:{}},computed:{show:function(){return console.log(this.modalView),!!this.modalView},modalSize:function(){return"modal-"+this.size}},methods:{close:function(){this.$store.commit("CLOSE_DIALOG")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(53),a=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(26);e.default={data:function(){return{account:{}}},methods:(0,a.default)({login:function(){var t=this;this.$validator.validateAll(),this.errors.any()||this.callLogin(this.account).then(function(){return t.getAccount({id:"me"})}).then(function(e){t.$emit("auth-success")}).catch(function(){})}},(0,r.mapActions)({callLogin:"login",getAccount:"getAccount"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(54),a=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={components:{LoginForm:a.default},methods:{onAuthSuccess:function(){this.$root.closeModal()}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,n){n(111);var o=n(17)(n(66),n(121),null,null);t.exports=o.exports},function(t,e,n){n(110);var o=n(17)(n(68),n(120),null,null);t.exports=o.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[t._v("登录")]),t._v(" "),n("div",{staticClass:"modal-body"},[n("LoginForm",{on:{"auth-success":t.onAuthSuccess}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"component-modal modal",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.close()}}},[n("div",{staticClass:"modal-dialog",class:t.modalSize},[n(t.modalView,{tag:"component",attrs:{data:t.data}})],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form form-login",on:{submit:function(e){e.preventDefault(),t.login(t.account)}}},[n("div",{staticClass:"form-group",class:{"has-error":t.errors.has("email")}},[n("label",{attrs:{for:""}},[t._v("email")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account.email,expression:"account.email"},{name:"validate",rawName:"v-validate"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:"email","data-vv-rules":"required|email"},domProps:{value:t.account.email},on:{input:function(e){e.target.composing||t.$set(t.account,"email",e.target.value)}}}),t._v(" "),n("p",{staticClass:"help-block"},[t._v(t._s(t.errors.first("email")))])]),t._v(" "),n("div",{staticClass:"form-group",class:{"has-error":t.errors.has("password")}},[n("label",{attrs:{for:""}},[t._v("password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account.password,expression:"account.password"},{name:"validate",rawName:"v-validate"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"password","data-vv-rules":"required"},domProps:{value:t.account.password},on:{input:function(e){e.target.composing||t.$set(t.account,"password",e.target.value)}}}),t._v(" "),n("p",{staticClass:"help-block"},[t._v(t._s(t.errors.first("password")))])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("login")])])}]}},,,,,function(t,e){}],[57]);