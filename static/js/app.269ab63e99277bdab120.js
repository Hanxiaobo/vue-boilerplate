webpackJsonp([11,9],{0:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(5),a=o(r);n(149);var u=n(155),i=o(u),s=n(161),c=o(s);n(153),n(158),n(154),n(151);var l=n(145),d=o(l);d.default.sync(c.default,i.default),new a.default({el:"#app",router:i.default,store:c.default,template:"<router-view></router-view>"})},13:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TOAST_MESSAGE="TOAST_MESSAGE",e.OPEN_DIALOG="OPEN_DIALOG",e.CLOSE_DIALOG="CLOSE_DIALOG",e.AUTH_LOGIN_SUCCESS="AUTH_LOGIN_SUCCESS",e.AUTH_LOGIN_FAIL="AUTH_LOGIN_FAIL",e.AUTH_LOGOUT="AUTH_LOGOUT",e.GET_ACCOUNT_SUCCESS="GET_ACCOUNT_SUCCESS",e.GET_ACCOUNT_FAIL="GET_ACCOUNT_FAIL"},31:function(t,e,n){var o,r;n(61),o=n(174);var a=n(88);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=o},61:function(t,e){},62:function(t,e){},68:function(t,e){},79:function(t,e,n){var o,r;n(68),o=n(170);var a=n(96);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=o},83:function(t,e,n){var o,r;n(62),o=n(175);var a=n(89);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=o},88:function(t,e){t.exports={render:function(){var t=this;return t._h("form",{staticClass:"form form-login",on:{submit:function(e){e.preventDefault(),t.login(t.account)}}},[t._h("div",{staticClass:"form-group",class:{"has-error":t.errors.has("email")}},[t._h("label",{attrs:{for:""}},["email"])," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.account.email,expression:"account.email"},{name:"validate",rawName:"v-validate"}],staticClass:"form-control",attrs:{type:"text",name:"email",placeholder:"email","data-vv-rules":"required|email"},domProps:{value:t._s(t.account.email)},on:{input:function(e){e.target.composing||(t.account.email=e.target.value)}}})," ",t._h("p",{staticClass:"help-block"},[t._s(t.errors.first("email"))])])," ",t._h("div",{staticClass:"form-group",class:{"has-error":t.errors.has("password")}},[t._h("label",{attrs:{for:""}},["password"])," ",t._h("input",{directives:[{name:"model",rawName:"v-model",value:t.account.password,expression:"account.password"},{name:"validate",rawName:"v-validate"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"password","data-vv-rules":"required"},domProps:{value:t._s(t.account.password)},on:{input:function(e){e.target.composing||(t.account.password=e.target.value)}}})," ",t._h("p",{staticClass:"help-block"},[t._s(t.errors.first("password"))])])," ",t._m(0)])},staticRenderFns:[function(){var t=this;return t._h("div",{staticClass:"form-group"},[t._h("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},["login"])])}]}},89:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"modal-content"},[t._h("div",{staticClass:"modal-header"},["登录"])," ",t._h("div",{staticClass:"modal-body"},[t._h("LoginForm",{on:{"auth-success":t.onAuthSuccess}})])])},staticRenderFns:[]}},96:function(t,e){t.exports={render:function(){var t=this;return t.show?t._h("div",{staticClass:"component-modal modal",on:{click:function(e){e.target===e.currentTarget&&t.close()}}},[t._h("div",{staticClass:"modal-dialog",class:t.modalSize},[t._h(t.modalView,{tag:"component",attrs:{data:t.data}})])]):t._e()},staticRenderFns:[]}},149:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(5),a=o(r),u=n(74),i=o(u);a.default.use(i.default),a.default.http.options.crossOrigin=!0,a.default.http.options.xhr={withCredentials:!0},a.default.http.headers.common.Authorization=localStorage.getItem("token")?"Bearer "+localStorage.getItem("token"):"",a.default.http.interceptors.push(function(t,e){e(function(t){return 401===t.status&&localStorage.removeItem("token"),t})})},150:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=e.Account=e.Message=void 0;var r=n(5),a=o(r),u="/api";e.Message=a.default.resource(u+"/messages{/id}"),e.Account=a.default.resource(u+"/users{/id}"),e.Auth=a.default.resource("/auth/local")},151:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(5),a=o(r);a.default.component("Modal",n(79)),a.default.component("LoginModal",n(83)),a.default.component("Navbar",function(t){return n.e(2,function(e){var n=[e(78)];t.apply(null,n)}.bind(this))}),a.default.component("Footer",function(t){return n.e(8,function(e){var n=[e(77)];t.apply(null,n)}.bind(this))}),a.default.component("Uploader",function(t){return n.e(5,function(e){var n=[e(81)];t.apply(null,n)}.bind(this))}),a.default.component("Hello",function(t){return n.e(6,function(e){var n=[e(76)];t.apply(null,n)}.bind(this))})},152:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(157),r="__dropdown_handler",a="__document_dropdown_handler";e.default={bind:function(t,e,n){t[r]=function(e){e.stopPropagation(),(0,o.toggle)(t,"open")},t[a]=function(e){(0,o.remove)(t,"open")},t.addEventListener("click",t[r]),document.addEventListener("click",t[a])},unbind:function(t,e,n){t.removeEventListener("click",t[r]),document.removeEventListener("click",t[a])}}},153:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(5),a=o(r),u=n(103);a.default.directive("clickaway",u.directive),a.default.directive("dropdown",n(152).default)},154:function(t,e){"use strict"},155:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),a=o(r),u=n(105),i=o(u),s=n(156),c=o(s);a.default.use(i.default);var l=new i.default({linkActiveClass:"active",mode:"history",base:"/vue-boilerplate/",routes:[{path:"/",component:function(t){return n.e(0,function(e){var n=[e(75)];t.apply(null,n)}.bind(this))},children:c.default},{path:"*",redirect:"/"}]});l.beforeEach(function(t,e,n){return t.meta.requiresAuth?void(localStorage.token?a.default.http.get("/users/me").then(function(t){n(function(e){e.user=t.body})}).catch(function(e){n({path:"/login",query:{redirect:t.fullPath}})}):n({path:"/login",query:{redirect:t.fullPath}})):n()}),a.default.router=l,e.default=l},156:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=[{path:"",component:function(t){return n.e(1,function(e){var n=[e(87)];t.apply(null,n)}.bind(this))}},{path:"/profile",meta:{requiresAuth:!0},component:function(t){return n.e(3,function(e){var n=[e(85)];t.apply(null,n)}.bind(this))}},{path:"/login",component:function(t){return n.e(4,function(e){var n=[e(82)];t.apply(null,n)}.bind(this))}},{path:"/logout",component:function(t){return n.e(7,function(e){var n=[e(84)];t.apply(null,n)}.bind(this))}}];e.default=o},157:function(t,e){"use strict";function n(t){if(t.classList)return t.classList;var e=t.className.replace(/^\s+|\s+$/g,""),n=e.split(s);return""===n[0]&&n.shift(),n}function o(t,e){if(t.classList)return void t.classList.add(e);var o=n(t),r=o.indexOf(e);~r||o.push(e),t.className=o.join(" ")}function r(t,e){return t.classList?t.classList.contains(e):!!~n(t).indexOf(e)}function a(t,e){if("[object RegExp]"===c.call(e))return u(t,e);if(t.classList)return void t.classList.remove(e);var o=n(t),r=o.indexOf(e);~r&&o.splice(r,1),t.className=o.join(" ")}function u(t,e,o){for(var r=Array.prototype.slice.call(n(t)),u=0;u<r.length;u++)e.test(r[u])&&a(t,r[u])}function i(t,e){return t.classList?t.classList.toggle(e):void(r(t,e)?a(t,e):o(t,e))}var s=/\s+/,c=Object.prototype.toString;t.exports=n,t.exports.add=o,t.exports.contains=r,t.exports.has=r,t.exports.toggle=i,t.exports.remove=a,t.exports.removeMatching=u},158:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(5),a=o(r),u=n(102),i=o(u);a.default.use(i.default)},159:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=t.commit;t.state;n(_.TOAST_MESSAGE,e);var o=setTimeout(function(){n(_.TOAST_MESSAGE,""),clearTimeout(o)},3e3)}function u(t,e){var n=t.commit;t.state;return f.Account.get(e).then(function(t){return n(_.GET_ACCOUNT_SUCCESS,t.body),l.default.resolve(t)}).catch(function(t){return n(_.GET_ACCOUNT_FAIL,t.body),l.default.reject(t)})}function i(t,e){var n=t.commit;return f.Auth.save(e).then(function(t){return n(_.AUTH_LOGIN_SUCCESS,t.body),t}).catch(function(t){return n(_.AUTH_LOGIN_FAIL,t.body),l.default.reject(t)})}function s(t,e){var n=t.commit;return n(_.AUTH_LOGOUT,{}),l.default.resolve()}Object.defineProperty(e,"__esModule",{value:!0});var c=n(148),l=r(c);e.toast=a,e.getAccount=u,e.login=i,e.logout=s;var d=n(150),f=o(d),p=n(13),_=o(p)},160:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.message=function(t){return t.message.message},e.modalView=function(t){return t.modal.view},e.me=function(t){return t.account.account},e.loggedIn=function(t){return!!t.auth.token}},161:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),u=r(a),i=n(10),s=r(i),c=n(104),l=r(c),d=n(159),f=o(d),p=n(160),_=o(p),v=n(162),m=r(v),h=n(163),O=r(h),g=n(164),y=r(g),A=n(165),b=r(A);u.default.use(s.default);var S=!1,C=new s.default.Store({actions:f,getters:_,modules:{account:m.default,auth:O.default,message:y.default,modal:b.default},strict:!1,plugins:S?[(0,l.default)()]:[]});e.default=C},162:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,u=n(19),i=r(u),s=n(13),c=o(s),l={account:{name:""}},d=(a={},(0,i.default)(a,c.GET_ACCOUNT_SUCCESS,function(t,e){t.account=e}),(0,i.default)(a,c.GET_ACCOUNT_FAIL,function(t,e){t.account={}}),(0,i.default)(a,c.AUTH_LOGOUT,function(t,e){t.account={}}),a);e.default={state:l,mutations:d}},163:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,u=n(19),i=r(u),s=n(13),c=o(s),l={token:localStorage.getItem("token")||""},d=(a={},(0,i.default)(a,c.AUTH_LOGIN_SUCCESS,function(t,e){t.token=e.token,localStorage.setItem("token",e.token)}),(0,i.default)(a,c.AUTH_LOGIN_FAIL,function(t,e){t.token="",localStorage.setItem("token","")}),(0,i.default)(a,c.AUTH_LOGOUT,function(t,e){t.token="",localStorage.setItem("token","")}),a);e.default={state:l,mutations:d}},164:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),u=r(a),i=n(13),s=o(i),c={message:""},l=(0,u.default)({},s.TOAST_MESSAGE,function(t,e){t.message=e});e.default={state:c,mutations:l}},165:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,u=n(19),i=r(u),s=n(13),c=o(s),l={view:"",data:{}},d=(a={},(0,i.default)(a,c.OPEN_DIALOG,function(t,e,n){l.view=e,l.data=n}),(0,i.default)(a,c.CLOSE_DIALOG,function(t,e,n){l.view="",l.data={}}),a);e.default={state:l,mutations:d}},170:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:String,default:"md"},modalView:"",data:{}},computed:{show:function(){return console.log(this.modalView),!!this.modalView},modalSize:function(){return"modal-"+this.size}},methods:{close:function(){this.$store.commit("CLOSE_DIALOG")}}}},174:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),a=o(r),u=n(10);e.default={data:function(){return{account:{}}},methods:(0,a.default)({login:function(){var t=this;this.$validator.validateAll(),this.errors.any()||this.callLogin(this.account).then(function(){return t.getAccount({id:"me"})}).then(function(e){t.$emit("auth-success")}).catch(function(){})}},(0,u.mapActions)({callLogin:"login",getAccount:"getAccount"}))}},175:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(31),a=o(r);e.default={components:{LoginForm:a.default},methods:{onAuthSuccess:function(){this.$root.closeModal()}}}}});